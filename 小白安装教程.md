# 安装教程 - 个性化知识问答系统

本教程手把手教你如何安装环境和配置 API 密钥。
1
---

## 一、环境安装

### 1.1 安装 Python 3.10+

1. 打开浏览器，访问 Python 官网：https://www.python.org/downloads/
2. 点击黄色的 **Download Python 3.x.x** 按钮下载
3. 运行下载的安装程序
4. **重要**：勾选 ✅ **Add Python to PATH**（添加到环境变量）
5. 点击 **Install Now** 安装

**验证安装成功**：打开命令提示符（按 `Win+R`，输入 `cmd`，回车），输入：

```bash
python --version
```
如果显示 `Python 3.10.x` 或更高版本，说明安装成功。

---

### 1.2 安装 Node.js 18+

1. 打开浏览器，访问 Node.js 官网：https://nodejs.org/
2. 点击左侧的 **LTS**（长期支持版）按钮下载
3. 运行下载的安装程序，一直点 **Next** 直到安装完成

**验证安装成功**：打开命令提示符，输入：
```bash
node --version
npm --version
```
如果都显示版本号，说明安装成功。

---

### 1.3 安装 uv（Python 包管理器）

打开命令提示符，输入以下命令：

**Windows PowerShell：**

```powershell
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
```

或者使用 pip 安装：
```bash
pip install uv
```

**验证安装成功**：
```bash
uv --version
```

---

## 二、配置环境变量（创建 .env 文件）

### 2.1 获取 API 密钥

你需要获取两个 API 密钥：

#### 🔑 DeepSeek API 密钥（用于大语言模型）

1. 打开 https://platform.deepseek.com/
2. 注册/登录账号
3. 点击左侧菜单「API Keys」
4. 点击「创建 API Key」
5. 复制生成的密钥（以 `sk-` 开头）

#### 🔑 SiliconFlow API 密钥（用于向量嵌入模型）

1. 打开 https://cloud.siliconflow.cn/
2. 注册/登录账号
3. 点击右上角头像 → 「API 密钥」
4. 点击「新建 API 密钥」
5. 复制生成的密钥

---

### 2.2 创建 .env 文件

1. 打开项目文件夹 `person_base`
2. 右键空白处 → 新建 → 文本文档
3. 把文件名改成 `.env`（注意：文件名就是 `.env`，没有其他后缀）
   - 如果提示"是否更改扩展名"，点"是"
4. 用记事本打开 `.env` 文件
5. 复制以下内容并粘贴：

```env
# DeepSeek 大语言模型配置
DEEPSEEK_API_KEY=这里填你的DeepSeek密钥
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1

# 向量嵌入模型配置
EMBEDDING_MODEL_API_KEY=这里填你的SiliconFlow密钥
EMBEDDING_MODEL_BASE_URL=https://api.siliconflow.cn/v1
EMBEDDING_MODEL=BAAI/bge-m3
```

6. 把 `这里填你的DeepSeek密钥` 替换成你在 2.1 步获取的 DeepSeek 密钥
7. 把 `这里填你的SiliconFlow密钥` 替换成你在 2.1 步获取的 SiliconFlow 密钥
8. 保存文件（Ctrl+S）

**示例**（密钥是假的，仅供参考格式）：
```env
DEEPSEEK_API_KEY=sk-abc123def456ghi789
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1
EMBEDDING_MODEL_API_KEY=sk-xyz987uvw654rst321
EMBEDDING_MODEL_BASE_URL=https://api.siliconflow.cn/v1
EMBEDDING_MODEL=BAAI/bge-m3
```

---

## 三、安装项目依赖

打开命令提示符，进入项目目录：

```bash
cd C:\Users\duzho\Desktop\person_base
```

### 3.1 安装后端依赖
```bash
uv sync
```

### 3.2 安装前端依赖
```bash
cd frontend
npm install
cd ..
```

---

## 四、运行项目

在项目目录下执行：
```bash
uv run python run.py
```

然后打开浏览器访问：http://localhost:8000

---

## 常见问题

### Q: 提示"无法将 uv 识别为命令"
重新打开一个新的命令提示符窗口再试。

### Q: 提示 API 密钥错误
检查 .env 文件中的密钥是否复制完整，有没有多余的空格。

### Q: 文件名无法改成 .env
在文件资源管理器中，点击「查看」→ 勾选「文件扩展名」，然后重新改名。

